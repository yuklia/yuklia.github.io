<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Automating UML Diagrams with ChatGPT and PlantUML | Yuliia Kostrikova</title>


<meta name="keywords" content="System Design, System Design Visualization, Automated UML Diagrams, Design Automation with ChatGPT, Solutions Architects">
<meta name="description" content="Learn how to effortlessly visualize system designs, saving time on syntax and focusing on architecting solutions">
<meta name="author" content="">
<link rel="canonical" href="https://juliakostrikova.com/posts/chatgpt/plantuml/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.7140587df96a2b1a49eb723fa7063dc0c641a6cb638f3140e8d3beb4deae4f5c.css" integrity="sha256-cUBYfflqKxpJ63I/pwY9wMZBpstjjzFA6NO&#43;tN6uT1w=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://juliakostrikova.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://juliakostrikova.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://juliakostrikova.com/favicon-32x32.png">
<link rel="manifest" href="https://juliakostrikova.com/site.webmanifest">
<link rel="apple-touch-icon" href="https://juliakostrikova.com/apple-touch-icon.png">
<link rel="icon" type="image/svg+xml"  href="https://juliakostrikova.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BR19XD52CV"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BR19XD52CV', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Automating UML Diagrams with ChatGPT and PlantUML" />
<meta property="og:description" content="Learn how to effortlessly visualize system designs, saving time on syntax and focusing on architecting solutions" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://juliakostrikova.com/posts/chatgpt/plantuml/" />
<meta property="og:image" content="https://juliakostrikova.com/chatGPT/author_julia_kostrikova_dalle_plant_human.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-28T13:05:09+01:00" />
<meta property="article:modified_time" content="2024-01-28T13:05:09+01:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://juliakostrikova.com/chatGPT/author_julia_kostrikova_dalle_plant_human.jpg" />
<meta name="twitter:title" content="Automating UML Diagrams with ChatGPT and PlantUML"/>
<meta name="twitter:description" content="Learn how to effortlessly visualize system designs, saving time on syntax and focusing on architecting solutions"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://juliakostrikova.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Automating UML Diagrams with ChatGPT and PlantUML",
      "item": "https://juliakostrikova.com/posts/chatgpt/plantuml/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Automating UML Diagrams with ChatGPT and PlantUML",
  "name": "Automating UML Diagrams with ChatGPT and PlantUML",
  "description": "Learn how to effortlessly visualize system designs, saving time on syntax and focusing on architecting solutions",
  "keywords": [
    "System Design", "System Design Visualization", "Automated UML Diagrams", "Design Automation with ChatGPT", "Solutions Architects"
  ],
  "articleBody": "Introduction UML diagrams play a crucial role in software engineering for visualizing and structuring information. This article explores the seamless automation of UML diagram creation using ChatGPT (LLM) and the PlantUML tool. The aim is to provide a valuable resource for Solutions Architects and engineers looking to efficiently communicate and pitch ideas through visual representations.\nIn this tutorial, we‚Äôll focus on visualization of the high-level system design of Netflix. By the end of this article, you‚Äôll have a clear understanding of how ChatGPT and PlantUML can be harnessed to expedite the visualization of systems design while saving time on learning PlatUML syntax.\nStep 1: Gather Requirements In Scope Identification and representation of key Netflix components, such as:\nContent Ingestion Workflow Content Replication Mechanism Content Delivery Networks (CDNs) Data Management Layer Playback Service Steering Service Client Devices Step 2: Compose a Prompt for ChatGPT Prompt Engineer: Create a UML sequence diagram using PlantUML to represent a given algorithm. The output should be generated using the PlantUML language with the *wsd syntax. Here is an algorithm.\n1. Creators kick off the process to upload videos onto the system. 2. The videos get spread out to various networks, aiming to reach users through CDN magic. 3. CDNs shoot back info to the system, covering health checks, file inventory, and the smartest routes for data travel. 4. Video details, along with CDN info, find a cozy spot in the data storage. 5. Users on their devices ask to play stuff, starting a cool workflow for different titles, like movies or shows. 6. The Playback service figures out which bits and pieces are needed for playing the chosen title. 7. The Steering service, using some smart moves, picks the best CDNs for grabbing the necessary files. It then cooks up some fancy URLs and sends them to the user's device. 8. The user's device sends out requests to the chosen CDNs, starting the process of grabbing the files. CDNs step up and serve the files requested, making sure everything lands on the user's device for a good time. Step 3: The *wsd output from ChatGPT @startuml actor Creators actor CDNs actor DataStorage actor Users actor PlaybackService actor SteeringService actor UserDevice note left of Creators Creators kick off the process to upload videos onto the system. end note Creators -\u003e DataStorage: Upload Videos activate DataStorage note left of Creators Videos spread out to various networks, aiming to reach users through CDN magic. end note DataStorage -\u003e CDNs: Distribute Videos activate CDNs CDNs --\u003e DataStorage: Report Info (Health, Inventory, Routes) deactivate CDNs note left of DataStorage Video details and CDN info find a cozy spot in the data storage. end note DataStorage -\u003e CDNs: Persist Video Details and CDN Info note left of Users Users on their devices ask to play stuff, starting a cool workflow for different titles, like movies or shows. end note Users -\u003e PlaybackService: Request to Play activate PlaybackService note left of PlaybackService Playback service figures out which bits and pieces are needed for playing the chosen title. end note PlaybackService -\u003e SteeringService: Determine Components activate SteeringService note left of SteeringService Steering service, using some smart moves, picks the best CDNs for grabbing the necessary files. It then cooks up some fancy URLs and sends them to the user's device. end note SteeringService -\u003e CDNs: Select Optimal CDNs activate CDNs CDNs --\u003e SteeringService: Optimal CDNs deactivate CDNs SteeringService --\u003e UserDevice: Send Fancy URLs deactivate SteeringService note left of UserDevice User's device sends out requests to the chosen CDNs, starting the process of grabbing the files. end note UserDevice -\u003e CDNs: Request Files activate CDNs CDNs --\u003e UserDevice: Serve Requested Files deactivate CDNs note left of UserDevice CDNs step up and serve the files requested, making sure everything lands on the user's device for a good time. end note @enduml Step 4: copy \u0026 paste *wsd output to PlantUML renderer I personally use VCCode with PlantUML plugin but you could use any PlantUML renderer you like. VSCode plugin: plantUML Visual result UML sequence Summary In this article I‚Äôve outlined a simple and efficient approach to automate UML diagram creation using ChatGPT and PlantUML. The focus is on helping Solutions Architects and engineers quickly visualize some aspects of system designs without getting bogged down by the intricacies of PlantUML syntax\nThe tutorial walks you through a practical example: visualizing the HLD of Netflix. By following 4-steps, you can save time on learning PlantUML syntax and direct your efforts towards creating awesome system designs.\nHappy designing and saving even more time on routine tasks üïê\n",
  "wordCount" : "759",
  "inLanguage": "en",
  "image":"https://juliakostrikova.com/chatGPT/author_julia_kostrikova_dalle_plant_human.jpg","datePublished": "2024-01-28T13:05:09+01:00",
  "dateModified": "2024-01-28T13:05:09+01:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://juliakostrikova.com/posts/chatgpt/plantuml/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Yuliia Kostrikova",
    "logo": {
      "@type": "ImageObject",
      "url": "https://juliakostrikova.com/favicon.ico"
    }
  }
}
</script>
    
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://juliakostrikova.com" accesskey="h" title="Yuliia Kostrikova (Alt + H)">Yuliia Kostrikova</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://juliakostrikova.com/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://juliakostrikova.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://juliakostrikova.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://juliakostrikova.com">Home</a>&nbsp;¬ª&nbsp;<a href="https://juliakostrikova.com/posts/">Posts</a></div>
    <h1 class="post-title">
      Automating UML Diagrams with ChatGPT and PlantUML
    </h1>
    <div class="post-description">
      Learn how to effortlessly visualize system designs, saving time on syntax and focusing on architecting solutions
    </div>
    <div class="post-meta"><span title='2024-01-28 13:05:09 +0100 CET'>January 28, 2024</span>&nbsp;¬∑&nbsp;4 min

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://juliakostrikova.com/chatGPT/author_julia_kostrikova_dalle_plant_human.jpg" alt="">
        
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#step-1-gather-requirements" aria-label="Step 1: Gather Requirements">Step 1: Gather Requirements</a><ul>
                        
                <li>
                    <a href="#in-scope" aria-label="In Scope">In Scope</a></li></ul>
                </li>
                <li>
                    <a href="#step-2-compose-a-prompt-for-chatgpt" aria-label="Step 2: Compose a Prompt for ChatGPT">Step 2: Compose a Prompt for ChatGPT</a></li>
                <li>
                    <a href="#step-3-the-wsd-output-from-chatgpt" aria-label="Step 3: The *wsd output from ChatGPT">Step 3: The <code>*wsd</code> output from ChatGPT</a></li>
                <li>
                    <a href="#step-4-copy--paste-wsd-output-to-plantuml-renderer" aria-label="Step 4: copy &amp;amp; paste *wsd output to PlantUML renderer">Step 4: copy &amp; paste *wsd output to PlantUML renderer</a></li>
                <li>
                    <a href="#visual-result" aria-label="Visual result">Visual result</a></li>
                <li>
                    <a href="#summary" aria-label="Summary">Summary</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>UML diagrams play a crucial role in software engineering for visualizing and structuring information. This article explores the seamless automation of UML diagram creation using ChatGPT (LLM) and the PlantUML tool. The aim is to provide a valuable resource for Solutions Architects and engineers looking to efficiently communicate and pitch ideas through visual representations.</p>
<p>In this tutorial, we&rsquo;ll focus on visualization of the high-level system design of Netflix. By the end of this article, you&rsquo;ll have a clear understanding of how ChatGPT and PlantUML can be harnessed to expedite the visualization of systems design while saving time on learning PlatUML syntax.</p>
<h2 id="step-1-gather-requirements">Step 1: Gather Requirements<a hidden class="anchor" aria-hidden="true" href="#step-1-gather-requirements">#</a></h2>
<h3 id="in-scope">In Scope<a hidden class="anchor" aria-hidden="true" href="#in-scope">#</a></h3>
<p>Identification and representation of key Netflix components, such as:</p>
<ul>
<li>Content Ingestion Workflow</li>
<li>Content Replication Mechanism</li>
<li>Content Delivery Networks (CDNs)</li>
<li>Data Management Layer</li>
<li>Playback Service</li>
<li>Steering Service</li>
<li>Client Devices</li>
</ul>
<h2 id="step-2-compose-a-prompt-for-chatgpt">Step 2: Compose a Prompt for ChatGPT<a hidden class="anchor" aria-hidden="true" href="#step-2-compose-a-prompt-for-chatgpt">#</a></h2>
<blockquote>
<p><strong>Prompt Engineer</strong>: Create a UML sequence diagram using PlantUML to represent a given algorithm.
The output should be generated using the PlantUML language with the *wsd syntax.
Here is an algorithm.</p>
</blockquote>
<pre tabindex="0"><code>1. Creators kick off the process to upload videos onto the system.
2. The videos get spread out to various networks, aiming to reach users through CDN magic.
3. CDNs shoot back info to the system, covering health checks, file inventory, and the smartest routes for data travel.
4. Video details, along with CDN info, find a cozy spot in the data storage.
5. Users on their devices ask to play stuff, starting a cool workflow for different titles, like movies or shows.
6. The Playback service figures out which bits and pieces are needed for playing the chosen title.
7. The Steering service, using some smart moves, picks the best CDNs for grabbing the necessary files. It then cooks up some fancy URLs and sends them to the user&#39;s device.
8. The user&#39;s device sends out requests to the chosen CDNs, starting the process of grabbing the files.
CDNs step up and serve the files requested, making sure everything lands on the user&#39;s device for a good time.
</code></pre><h2 id="step-3-the-wsd-output-from-chatgpt">Step 3: The <code>*wsd</code> output from ChatGPT<a hidden class="anchor" aria-hidden="true" href="#step-3-the-wsd-output-from-chatgpt">#</a></h2>
<pre tabindex="0"><code class="language-wsd" data-lang="wsd">@startuml

actor Creators
actor CDNs
actor DataStorage
actor Users
actor PlaybackService
actor SteeringService
actor UserDevice

note left of Creators
  Creators kick off the process
  to upload videos onto the system.
end note

Creators -&gt; DataStorage: Upload Videos
activate DataStorage

note left of Creators
  Videos spread out to various networks,
  aiming to reach users through CDN magic.
end note

DataStorage -&gt; CDNs: Distribute Videos
activate CDNs
CDNs --&gt; DataStorage: Report Info (Health, Inventory, Routes)
deactivate CDNs

note left of DataStorage
  Video details and CDN info
  find a cozy spot in the data storage.
end note

DataStorage -&gt; CDNs: Persist Video Details and CDN Info

note left of Users
  Users on their devices ask to play stuff,
  starting a cool workflow for different titles,
  like movies or shows.
end note

Users -&gt; PlaybackService: Request to Play
activate PlaybackService

note left of PlaybackService
  Playback service figures out
  which bits and pieces are needed
  for playing the chosen title.
end note

PlaybackService -&gt; SteeringService: Determine Components
activate SteeringService

note left of SteeringService
  Steering service, using some smart moves,
  picks the best CDNs for grabbing
  the necessary files.
  It then cooks up some fancy URLs
  and sends them to the user&#39;s device.
end note

SteeringService -&gt; CDNs: Select Optimal CDNs
activate CDNs
CDNs --&gt; SteeringService: Optimal CDNs
deactivate CDNs
SteeringService --&gt; UserDevice: Send Fancy URLs
deactivate SteeringService

note left of UserDevice
  User&#39;s device sends out requests
  to the chosen CDNs,
  starting the process of grabbing the files.
end note

UserDevice -&gt; CDNs: Request Files
activate CDNs
CDNs --&gt; UserDevice: Serve Requested Files
deactivate CDNs

note left of UserDevice
  CDNs step up and serve the files requested,
  making sure everything lands
  on the user&#39;s device for a good time.
end note

@enduml
</code></pre><h2 id="step-4-copy--paste-wsd-output-to-plantuml-renderer">Step 4: copy &amp; paste *wsd output to PlantUML renderer<a hidden class="anchor" aria-hidden="true" href="#step-4-copy--paste-wsd-output-to-plantuml-renderer">#</a></h2>
<ul>
<li>I personally use VCCode with <a href="https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml">PlantUML plugin</a> but you could use any PlantUML renderer you like.</li>
</ul>
<figure>
    <img loading="lazy" src="/chatGPT/image.png"/> <figcaption>
            VSCode plugin: plantUML
        </figcaption>
</figure>

<h2 id="visual-result">Visual result<a hidden class="anchor" aria-hidden="true" href="#visual-result">#</a></h2>
<figure>
    <img loading="lazy" src="/chatGPT/test2.png"/> <figcaption>
            UML sequence
        </figcaption>
</figure>

<h2 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h2>
<p>In this article I&rsquo;ve outlined a simple and efficient approach to automate UML diagram creation using ChatGPT and PlantUML. The focus is on helping Solutions Architects and engineers quickly visualize some aspects of system designs without getting bogged down by the intricacies of <a href="https://plantuml.com">PlantUML syntax</a></p>
<p>The tutorial walks you through a practical example: visualizing the HLD of Netflix. By following 4-steps, you can save time on learning PlantUML syntax and direct your efforts towards creating awesome system designs.</p>
<p>Happy designing and saving even more time on routine tasks üïê</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://juliakostrikova.com/tags/chatgpt/">ChatGPT</a></li>
      <li><a href="https://juliakostrikova.com/tags/howto/">howto</a></li>
      <li><a href="https://juliakostrikova.com/tags/system-design/">system design</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://juliakostrikova.com/posts/homelab/ovderride-provider/">
    <span class="title">Next ¬ª</span>
    <br>
    <span>How to Mount Synology NAS to RaspberryPi via NFS</span>
  </a>
</nav>

  </footer><script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
<script>
  kofiWidgetOverlay.draw('yuklia', {
    'type': 'floating-chat',
    'floating-chat.donateButton.text': '',
    'floating-chat.donateButton.background-color': '#ffffff',
    'floating-chat.donateButton.text-color': '#323842'
  });
</script>

<div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "yuklia-dev" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://juliakostrikova.com">Yuliia Kostrikova</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
